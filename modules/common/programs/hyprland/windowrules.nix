{ lib, ... }: {

  wayland.windowManager.hyprland.settings = {
    windowrule = [
      "border_color rgba(006591AA) rgba(00659177),match:pin true"
      "float on, match:class ^(zen)$, match:title ^(Picture-in-Picture)$"
      "pin on,   match:class ^(zen)$, match:title  ^(Picture-in-Picture)$"
      "size 800 450, match:class ^(zen)$, match:title ^(Picture-in-Picture)$"
      "float on, match:class ^(org.gnome.NautilusPreviewer)$"
      "no_blur on,match:class ^()$,match:title  ^()$"
      "center on, match:title  ^(Open File)(.*)$"
      "float on, match:title  ^(Open File)(.*)$"
      "center on, match:title  ^(Select a File)(.*)$"
      "float on, match:title  ^(Select a File)(.*)$"
      "center on, match:title  ^(Choose wallpaper)(.*)$"
      "float on, match:title  ^(Choose wallpaper)(.*)$"
      "size 60% 65%, match:title  ^(Choose wallpaper)(.*)$"
      "center on, match:title  ^(Open Folder)(.*)$"
      "float on, match:title  ^(Open Folder)(.*)$"
      "center on, match:title  ^(Save As)(.*)$"
      "float on, match:title  ^(Save As)(.*)$"
      "center on, match:title  ^(Library)(.*)$"
      "float on, match:title  ^(Library)(.*)$"
      "center on, match:title  ^(File Upload)(.*)$"
      "float on, match:title  ^(File Upload)(.*)$"
      "center on, match:title  ^(.*)(wants to save)$"
      "float on, match:title  ^(.*)(wants to save)$"
      "center on, match:title  ^(.*)(wants to open)$"
      "float on, match:title  ^(.*)(wants to open)$"
      "float on, match:class ^(blueberry\\.py)$"
      "float on, match:class ^(guifetch)$   # FlafyDev/guifetch"
      "float on, match:class ^(pavucontrol)$"
      "size 45%, match:class ^(pavucontrol)$"
      "center on, match:class ^(pavucontrol)$"
      "float on, match:class ^(org.pulseaudio.pavucontrol)$"
      "size 45%, match:class ^(org.pulseaudio.pavucontrol)$"
      "center on, match:class ^(org.pulseaudio.pavucontrol)$"
      "float on, match:class ^(nm-connection-editor)$"
      "size 45%, match:class ^(nm-connection-editor)$"
      "center on, match:class ^(nm-connection-editor)$"
      "float on, match:class .*plasmawindowed.*"
      "float on, match:class kcm_.*"
      "float on, match:class .*bluedevilwizard"
      "float on, match:title  .*Welcome"
      "float on, match:title  ^(illogical-impulse Settings)$"
      "float on, match:title  .*Shell conflicts.*"
      "float on, match:class org.freedesktop.impl.portal.desktop.kde"
      "size 60% 65%, match:class org.freedesktop.impl.portal.desktop.kde"
      "float on, match:class ^(Zotero)$"
      "size 45%, match:class ^(Zotero)$"
      "float on, match:class ^(plasma-changeicons)$"
      "no_initial_focus on, match:class ^(plasma-changeicons)$"
      "move 999999 999999, match:class ^(plasma-changeicons)$"
      "move 40 80, match:title  ^(Copying â€” Dolphin)$"
      "tile on, match:class ^dev\\.warp\\.Warp$"
      "float on, match:title  ^([Pp]icture[-\\s]?[Ii]n[-\\s]?[Pp]icture)(.*)$"
      "keep_aspect_ratio on, match:title  ^([Pp]icture[-\\s]?[Ii]n[-\\s]?[Pp]icture)(.*)$"
      "move 73% 72%, match:title  ^([Pp]icture[-\\s]?[Ii]n[-\\s]?[Pp]icture)(.*)$ "
      "size 25%, match:title  ^([Pp]icture[-\\s]?[Ii]n[-\\s]?[Pp]icture)(.*)$"
      "float on, match:title  ^([Pp]icture[-\\s]?[Ii]n[-\\s]?[Pp]icture)(.*)$"
      "pin on, match:title  ^([Pp]icture[-\\s]?[Ii]n[-\\s]?[Pp]icture)(.*)$"
      "immediate on, match:title  .*\\.exe"
      "immediate on, match:title  .*minecraft.*"
      "immediate on, match:class ^(steam_app).*"
      "no_shadow on, match:float no"
    ];
    workspace = [
      "special:special, gapsout:30"
    ];
    layerrule = [
      #"xray on, .*"
      "no_anim on, match:namespace walker"
      "no_anim on,match:namespace selection"
      "no_anim on,match:namespace overview"
      "no_anim on,match:namespace anyrun"
      "no_anim on,match:namespace indicator.*"
      "no_anim on,match:namespace osk"
      "no_anim on,match:namespace hyprpicker"
      "no_anim on,match:namespace no_anim"
      "blur on,match:namespace gtk-layer-shell"
      # "ignore_zero on,match:namespace gtk-layer-shell"
      "blur on,match:namespace launcher"
      "ignore_alpha 0.5,match:namespace launcher"
      "blur on,match:namespace notifications"
      "ignore_alpha 0.69,match:namespace notifications"
      "blur on,match:namespace logout_dialog # wlogout"
      "animation slide left,match:namespace sideleft.*"
      "animation slide right,match:namespace sideright.*"
      "blur on,match:namespace session[0-9]*"
      "blur on,match:namespace bar[0-9]*"
      "ignore_alpha 0.6,match:namespace bar[0-9]*"
      "blur on,match:namespace barcorner.*"
      "ignore_alpha 0.6,match:namespace barcorner.*"
      "blur on,match:namespace dock[0-9]*"
      "ignore_alpha 0.6,match:namespace dock[0-9]*"
      "blur on,match:namespace indicator.*"
      "ignore_alpha 0.6,match:namespace indicator.*"
      "blur on,match:namespace overview[0-9]*"
      "ignore_alpha 0.6,match:namespace overview[0-9]*"
      "blur on,match:namespace cheatsheet[0-9]*"
      "ignore_alpha 0.6,match:namespace cheatsheet[0-9]*"
      "blur on,match:namespace sideright[0-9]*"
      "ignore_alpha 0.6,match:namespace sideright[0-9]*"
      "blur on,match:namespace sideleft[0-9]*"
      "ignore_alpha 0.6,match:namespace sideleft[0-9]*"
      "blur on,match:namespace indicator.*"
      "ignore_alpha 0.6,match:namespace indicator.*"
      "blur on,match:namespace osk[0-9]*"
      "ignore_alpha 0.6,match:namespace osk[0-9]*"
      "blur_popups on,match:namespace quickshell:.*"
      "blur on,match:namespace quickshell:.*"
      "ignore_alpha 0.79,match:namespace quickshell:.*"
      "animation slide,match:namespace quickshell:bar"
      "animation slide,match:namespace quickshell:verticalBar"
      "animation fade,match:namespace quickshell:screenCorners"
      "animation slide right,match:namespace quickshell:sidebarRight"
      "animation slide left,match:namespace quickshell:sidebarLeft"
      "animation slide top,match:namespace quickshell:wallpaperSelector"
      "animation slide bottom,match:namespace quickshell:osk"
      "animation slide bottom,match:namespace quickshell:dock"
      "animation slide bottom,match:namespace quickshell:cheatsheet"
      "blur on,match:namespace quickshell:session"
      "no_anim on,match:namespace quickshell:session"
      "ignore_alpha 0,match:namespace quickshell:session"
      "animation fade,match:namespace quickshell:notificationPopup"
      "blur on,match:namespace quickshell:backgroundWidgets"
      "ignore_alpha 0.05,match:namespace quickshell:backgroundWidgets"
      "no_anim on,match:namespace quickshell:screenshot"
      "animation popin 120%,match:namespace quickshell:screenCorners"
      "no_anim on,match:namespace quickshell:lockWindowPusher"
      "no_anim on,match:namespace quickshell:overview"
      "no_anim on,match:namespace gtk4-layer-shell"
      "blur on,match:namespace shell:bar"
      # "ignorezero,match:namespace shell:bar"
      "blur on,match:namespace shell:notifications"
      "ignore_alpha 0.1,match:namespace shell:notifications"
      "blur on,match:namespace vicinae"
      "ignore_alpha 0,match:namespace vicinae"
      "ignore_alpha 0,match:namespace wvkbd"
    ];
  };
}
